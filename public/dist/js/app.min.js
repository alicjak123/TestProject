angular.module("sampleApp",["ngRoute","MainCtrl","questionsServices","usersServices","commentsServices","userDirectives","votesFilter","ngResource"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/questions/:questionId",{templateUrl:"views/question.html",controller:"MainController"}).when("/questions",{templateUrl:"views/home.html",controller:"MainController"}).otherwise({redirectTo:"/questions"}),b.html5Mode(!0)}]),angular.module("MainCtrl",[]).controller("MainController",["$scope","$routeParams","Questions","Users","Comments",function(a,b,c,d,e){a.showDialog=!1,a.questionLimit=4,a.boxLimit=4,a.questions=c.query(),a.users=d.query(),a.comments=e.query(),a.sortType="questionId",a.up=function(b){b.questionVotes++,a.questions[b.questionId].questionVotes++,c.save(a.questions)},a.down=function(b){b.questionVotes--,a.questions[b.questionId].questionVotes--,c.save(a.questions)},a.selectedIndex=0,a.itemClicked=function(b){a.selectedIndex=b},a.loadQuestions=function(){a.questionLimit+=1};var f=c.query(function(){a.question=f[b.questionId],a.answeredUser=a.question.comments.filter(function(a){return a.answered===!0}).length});a.show=function(b){var c=d.query(function(){a.user=c[b]});$('<div class="modal-backdrop"></div>').appendTo(document.body).hide().fadeIn(),a.showDialog=!0,$(".section-modal").addClass("fadeIn")},a.close=function(){var b=$(".modal-backdrop");a.showDialog=!1,b.fadeOut("slow",function(){b.remove()})}}]),angular.module("QuestionCtrl",[]).controller("QuestionController",["$scope","$routeParams","Questions","Users","Comments",function(a,b,c,d,e){var f=c.query(function(){a.question=f[b.questionId],a.answeredUser=a.question.comments.filter(function(a){return a.answered===!0}).length});a.users=d.query(),a.comments=e.query()}]),angular.module("userDirectives",[]).directive("userDirective",function(){return{templateUrl:"views/user-detail.html"}}),angular.module("votesFilter",[]).filter("votesFilter",function(){return function(a){return 0>a?Math.abs(a)+" downvotes":a+" upvotes"}}),angular.module("commentsServices",[]).factory("Comments",["$resource",function(a){return a("src/data/comments.json",{},{query:{method:"GET",isArray:!0}})}]),angular.module("questionsServices",["ngResource"]).factory("Questions",["$resource",function(a){return a("src/data/questions.json",{},{query:{method:"GET",isArray:!0},update:{method:"PUT",isArray:!0}})}]),angular.module("usersServices",[]).factory("Users",["$resource",function(a){return a("src/data/users.json",{},{query:{method:"GET",isArray:!0}})}]);